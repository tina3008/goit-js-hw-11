{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// +++++++++++++++++++\n\nconst inputfield = document.querySelector('input');\nconst inputBtn = document.querySelector('button');\nconst fillForm = document.querySelector('form');\nconst imgPlase = document.querySelector('img-list');\nlet wishImgs;\n\n// Begin ++++++++++++++++\n\ninputBtn.addEventListener('click', event => {\n  event.preventDefault();\n  wishImgs = inputfield.value.trim();\n\n  // control coreect fill input\n\n  if (wishImgs.length < 1) {\n    iziToast.error({\n      color: 'red',\n      position: 'topRight',\n      message: `❌ Sorry, there are no images matching your search query. Please try again!`,\n    });\n  }\n\n  // request\n\n  fetchImg()\n    .then(imgs => {\n      renderImgs(imgs);\n      console.log(wishImgs);\n    })\n    .catch(error => {\n      iziToast.error({\n        color: 'red',\n        position: 'topRight',\n        message: `❌ Sorry, there are no images matching your search query. Please try again!`,\n      });\n    });\n});\n\n// ++++++++++ URL\n\nconst searchParams = new URLSearchParams({\n  key:\"22926721-5d20aa08498ffd1ff2f906542\",\n  // key: '42609290-856768105ab9e79485c69bf61',\n  // q: wishImgs, \n  q: \"cat\",\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n});\n\nconst url = `https://pixabay.com/api/?${searchParams}`;\n\nconsole.log(url);\nconsole.log(wishImgs);\n\nfunction fetchImg() {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction renderImgs(imgs) {\n  const markup = imgs\n    .map(img => {\n      return `<li class=\"gallery-img\"> \n      <img class=\"gallery-image\"; src= \"${img.preview}\"     \n      alt=\"${img.description}\">\n      </li>`;\n    })\n    .join('');\n  imgList.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["inputfield","inputBtn","wishImgs","event","iziToast","fetchImg","imgs","renderImgs","error","searchParams","url","response","markup","img"],"mappings":"svBAQA,MAAMA,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAW,SAAS,cAAc,QAAQ,EAC/B,SAAS,cAAc,MAAM,EAC7B,SAAS,cAAc,UAAU,EAClD,IAAIC,EAIJD,EAAS,iBAAiB,QAASE,GAAS,CAC1CA,EAAM,eAAc,EACpBD,EAAWF,EAAW,MAAM,OAIxBE,EAAS,OAAS,GACpBE,EAAS,MAAM,CACb,MAAO,MACP,SAAU,WACV,QAAS,4EACf,CAAK,EAKHC,EAAU,EACP,KAAKC,GAAQ,CACZC,EAAWD,CAAI,EACf,QAAQ,IAAIJ,CAAQ,CAC1B,CAAK,EACA,MAAMM,GAAS,CACdJ,EAAS,MAAM,CACb,MAAO,MACP,SAAU,WACV,QAAS,4EACjB,CAAO,CACP,CAAK,CACL,CAAC,EAID,MAAMK,EAAe,IAAI,gBAAgB,CACvC,IAAI,qCAGJ,EAAG,MACH,WAAY,QACZ,YAAa,aACb,WAAY,MACd,CAAC,EAEKC,EAAM,4BAA4BD,CAAY,GAEpD,QAAQ,IAAIC,CAAG,EACf,QAAQ,IAAIR,CAAQ,EAEpB,SAASG,GAAW,CAClB,OAAO,MAAMK,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASJ,EAAWD,EAAM,CACxB,MAAMM,EAASN,EACZ,IAAIO,GACI;AAAA,0CAC6BA,EAAI,OAAO;AAAA,aACxCA,EAAI,WAAW;AAAA,YAEvB,EACA,KAAK,EAAE,EACV,QAAQ,mBAAmB,YAAaD,CAAM,CAChD"}